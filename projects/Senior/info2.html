<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Destination Information</title>
</head>

<body>

    <div class="container" id="destination-container">
        <!-- Destination info will be inserted here dynamically -->
    </div>

    <script>
        // URL to the raw JSON file on GitHub
        const datasetUrl = 'https://raw.githubusercontent.com/DeemaEssam/DeemaEssam.github.io/main/projects/Senior/dataset.json';

        // Get the destination ID from the query parameter in the URL
        const urlParams = new URLSearchParams(window.location.search);
        const destinationId = urlParams.get('id');  // Extract the 'id' from URL query parameters

        // Fetch the dataset and find the matching destination by id
        fetch(datasetUrl)
            .then(response => response.json())
            .then(data => {
                // Find the destination with the matching id
                const destination = data.find(item => item.id === destinationId);

                if (destination) {
                    // Populate the page with destination info
                    const container = document.getElementById('destination-container');
                    container.innerHTML = `
                        <div class="header">
                            <img src="${destination.image}" width="800px">
                            <div class="rating">‚≠ê ${destination.placeRating}</div>
                            <div class="distance">${destination.city}</div>
                            <h1>${destination.name}</h1>
                        </div>
                        <div class="content">
                            <div class="location"><strong>Location:</strong> ${destination.theme}</div>
                            <div class="contact"><strong>Contact:</strong> ${destination.contact || 'N/A'}</div>
                            <div class="working-hours"><strong>Working Hours:</strong> ${destination.workingHours || 'N/A'}</div>
                            <div class="description">
                                <strong>Description:</strong>
                                <p>${destination.description}</p>
                            </div>
                            <a href="${destination.website || '#'}" class="button">Visit Website</a>
                        </div>
                    `;
                } else {
                    // Handle the case where the destination is not found
                    document.getElementById('destination-container').innerHTML = '<p>Destination not found.</p>';
                }
            })
            .catch(error => console.error('Error fetching the dataset:', error));
    </script>
</body>

</html>
